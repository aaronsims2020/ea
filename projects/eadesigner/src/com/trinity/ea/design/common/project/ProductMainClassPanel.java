/*
 * ProductMainClassPanel.java
 *
 * Created on November 20, 2004, 12:05 PM
 */

package com.trinity.ea.design.common.project;

import com.trinity.ea.design.common.file.ProjectManager;
import com.trinity.ea.design.rules.builder.DesignerRuleBuilder;
import com.trinity.ea.design.common.mainclasschooser.MainClassChooser;
import com.trinity.ea.design.common.panel.EAPanel;
import com.trinity.ea.design.common.project.NewProject;
import java.io.File;
import java.net.URL;
import java.net.MalformedURLException;
import java.util.ArrayList;
import javax.swing.*;
import java.awt.*;

/**
 *
 * @author  aaronsc Trinity Software, LLC
 * Copyright Â©2004 Trinity Software, LLC. All rights reserved.
 */
public class ProductMainClassPanel extends EAPanel {
    
    /** Creates new ProductInformationPanel */
    public ProductMainClassPanel() 
    {
        initComponents();
        try
        {
            setProjectData();    
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }        
    }
    
    public synchronized void setProjectData()
    {
        try
        {
		MainClassTextField.setText(ProjectManager.get("applicationClass"));                          
		MainClassTextField.setCaretPosition(0); 
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }
    }

    /* Updates the project data properties changes */
    public void getDataUpdate()
    {
        try
        {
		if(MainClassTextField.getText().endsWith(".class")==true)
		{
			ProjectManager.putTempNoFileWrite("applicationClass",MainClassTextField.getText().substring(0,MainClassTextField.getText().lastIndexOf(".class")));
		}
		else
		{
            	ProjectManager.put("applicationClass", MainClassTextField.getText());
		}
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }
    }    
            
     /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        ContentPanel = new javax.swing.JPanel();
        MainClassLabelPanel = new javax.swing.JPanel();
        Filler8 = new javax.swing.JLabel();
        VendorNameLabel = new javax.swing.JLabel();
        Filler007 = new javax.swing.JLabel();
        MainClassPanel = new javax.swing.JPanel();
        Filler9 = new javax.swing.JLabel();
        MainClassTextField = new javax.swing.JTextField();
        Filler006 = new javax.swing.JLabel();
        FindClassesButton = new javax.swing.JButton();

        setLayout(new javax.swing.BoxLayout(this, javax.swing.BoxLayout.X_AXIS));

        ContentPanel.setMaximumSize(new java.awt.Dimension(380, 65));
        ContentPanel.setMinimumSize(new java.awt.Dimension(380, 65));
        ContentPanel.setPreferredSize(new java.awt.Dimension(380, 65));
        MainClassLabelPanel.setLayout(new javax.swing.BoxLayout(MainClassLabelPanel, javax.swing.BoxLayout.X_AXIS));

        MainClassLabelPanel.setMaximumSize(new java.awt.Dimension(370, 16));
        MainClassLabelPanel.setMinimumSize(new java.awt.Dimension(370, 16));
        MainClassLabelPanel.setPreferredSize(new java.awt.Dimension(370, 16));
        MainClassLabelPanel.setRequestFocusEnabled(false);
        MainClassLabelPanel.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                MainClassLabelPanelMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                MainClassLabelPanelMouseExited(evt);
            }
        });

        Filler8.setMaximumSize(new java.awt.Dimension(20, 10));
        Filler8.setMinimumSize(new java.awt.Dimension(20, 10));
        Filler8.setPreferredSize(new java.awt.Dimension(20, 10));
        MainClassLabelPanel.add(Filler8);

        VendorNameLabel.setFont(new java.awt.Font("Dialog", 0, 12));
        VendorNameLabel.setText("Main Class (Complete Package Name):");
        VendorNameLabel.setMaximumSize(new java.awt.Dimension(370, 16));
        VendorNameLabel.setMinimumSize(new java.awt.Dimension(370, 16));
        VendorNameLabel.setPreferredSize(new java.awt.Dimension(370, 16));
        VendorNameLabel.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                VendorNameLabelMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                VendorNameLabelMouseExited(evt);
            }
        });

        MainClassLabelPanel.add(VendorNameLabel);

        Filler007.setMaximumSize(new java.awt.Dimension(10, 10));
        Filler007.setMinimumSize(new java.awt.Dimension(10, 10));
        Filler007.setPreferredSize(new java.awt.Dimension(10, 10));
        MainClassLabelPanel.add(Filler007);

        ContentPanel.add(MainClassLabelPanel);

        MainClassPanel.setLayout(new javax.swing.BoxLayout(MainClassPanel, javax.swing.BoxLayout.X_AXIS));

        MainClassPanel.setMaximumSize(new java.awt.Dimension(370, 29));
        MainClassPanel.setMinimumSize(new java.awt.Dimension(370, 29));
        MainClassPanel.setPreferredSize(new java.awt.Dimension(370, 29));
        MainClassPanel.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                MainClassPanelMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                MainClassPanelMouseExited(evt);
            }
        });

        Filler9.setMaximumSize(new java.awt.Dimension(20, 10));
        Filler9.setMinimumSize(new java.awt.Dimension(20, 10));
        Filler9.setPreferredSize(new java.awt.Dimension(20, 10));
        MainClassPanel.add(Filler9);

        MainClassTextField.setText("complete.package.name.goes.here");
        MainClassTextField.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.LOWERED));
        MainClassTextField.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        MainClassTextField.setMargin(new java.awt.Insets(0, 10, 0, 5));
        MainClassTextField.setMaximumSize(new java.awt.Dimension(2147483647, 22));
        MainClassTextField.setMinimumSize(new java.awt.Dimension(175, 22));
        MainClassTextField.setPreferredSize(new java.awt.Dimension(245, 22));
        MainClassTextField.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                MainClassTextFieldMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                MainClassTextFieldMouseExited(evt);
            }
        });

        MainClassPanel.add(MainClassTextField);

        Filler006.setMaximumSize(new java.awt.Dimension(10, 10));
        Filler006.setMinimumSize(new java.awt.Dimension(10, 10));
        Filler006.setPreferredSize(new java.awt.Dimension(10, 10));
        MainClassPanel.add(Filler006);

        FindClassesButton.setFont(new java.awt.Font("Arial", 0, 12));
        FindClassesButton.setText("Find Main Class...");
        FindClassesButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                FindClassesButtonActionPerformed(evt);
            }
        });
        FindClassesButton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                FindClassesButtonMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                FindClassesButtonMouseExited(evt);
            }
        });

        MainClassPanel.add(FindClassesButton);

        ContentPanel.add(MainClassPanel);

        add(ContentPanel);

    }//GEN-END:initComponents

    private void FindClassesButtonMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_FindClassesButtonMouseExited
        ((NewProject)getParentComponent()).setStatus("");
    }//GEN-LAST:event_FindClassesButtonMouseExited

    private void FindClassesButtonMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_FindClassesButtonMouseEntered
        ((NewProject)getParentComponent()).setStatus("Specify the main class complete package (example: complete.package.MainClass).");
    }//GEN-LAST:event_FindClassesButtonMouseEntered

    private void FindClassesButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_FindClassesButtonActionPerformed
        try
        {
            MainClassTextField.setText(MainClassChooser.getMainClass(this));
		MainClassTextField.setCaretPosition(0); 
        }
        catch(Exception e)
        {}        
    }//GEN-LAST:event_FindClassesButtonActionPerformed

    private void VendorNameLabelMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_VendorNameLabelMouseExited
        ((NewProject)getParentComponent()).setStatus("");
    }//GEN-LAST:event_VendorNameLabelMouseExited

    private void VendorNameLabelMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_VendorNameLabelMouseEntered
        ((NewProject)getParentComponent()).setStatus("Specify the main class complete package (example: complete.package.MainClass).");
    }//GEN-LAST:event_VendorNameLabelMouseEntered

    private void MainClassPanelMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_MainClassPanelMouseEntered
        ((NewProject)getParentComponent()).setStatus("Specify the main class complete package (example: complete.package.MainClass).");
    }//GEN-LAST:event_MainClassPanelMouseEntered
  
    private void MainClassPanelMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_MainClassPanelMouseExited
        ((NewProject)getParentComponent()).setStatus("");
    }//GEN-LAST:event_MainClassPanelMouseExited

    private void MainClassLabelPanelMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_MainClassLabelPanelMouseExited
        ((NewProject)getParentComponent()).setStatus("");
    }//GEN-LAST:event_MainClassLabelPanelMouseExited

    private void MainClassLabelPanelMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_MainClassLabelPanelMouseEntered
        ((NewProject)getParentComponent()).setStatus("Specify the main class complete package (example: complete.package.MainClass).");
    }//GEN-LAST:event_MainClassLabelPanelMouseEntered

    private void MainClassTextFieldMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_MainClassTextFieldMouseExited
        ((NewProject)getParentComponent()).setStatus("");
    }//GEN-LAST:event_MainClassTextFieldMouseExited

    private void MainClassTextFieldMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_MainClassTextFieldMouseEntered
        ((NewProject)getParentComponent()).setStatus("Specify the main class complete package (example: complete.package.MainClass).");
    }//GEN-LAST:event_MainClassTextFieldMouseEntered
    
    private static synchronized Object[] getStringArraysFromString(String textArrayString)
    {
        ArrayList aryList = new ArrayList();
        String tempString = "";
        while(textArrayString.indexOf(",")!=-1)
        {
            tempString = textArrayString.substring(0,textArrayString.indexOf(","));
            textArrayString = textArrayString.substring(textArrayString.indexOf(",") + 1);
            aryList.add(tempString);
        }
        aryList.add(textArrayString);
        return aryList.toArray();
    }        

   
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel ContentPanel;
    private javax.swing.JLabel Filler006;
    private javax.swing.JLabel Filler007;
    private javax.swing.JLabel Filler8;
    private javax.swing.JLabel Filler9;
    private javax.swing.JButton FindClassesButton;
    private javax.swing.JPanel MainClassLabelPanel;
    private javax.swing.JPanel MainClassPanel;
    private javax.swing.JTextField MainClassTextField;
    private javax.swing.JLabel VendorNameLabel;
    // End of variables declaration//GEN-END:variables
    
}
