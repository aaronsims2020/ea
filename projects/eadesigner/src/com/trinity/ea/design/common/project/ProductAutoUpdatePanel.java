/*
 * ProductAutoUpdatePanel.java
 *
 * Created on April 23, 2004, 10:16 PM
 */
 
package com.trinity.ea.design.common.project;
import com.trinity.ea.design.common.project.NewProject;
import com.trinity.ea.design.common.file.ProjectManager;
import com.trinity.ea.design.common.project.AutoUpdateFileListPanel;
import com.trinity.ea.design.common.project.AUX500EncryptionConfigurationPanel;
import com.trinity.ea.design.common.project.AUJarVerificationSecurityPanel;
import javax.swing.plaf.InsetsUIResource;
import com.trinity.ea.design.common.panel.EAPanel;
import javax.swing.ImageIcon;
import java.util.HashMap;
import java.util.ArrayList;
import java.awt.Font;
import javax.swing.ButtonGroup;
import javax.swing.JPanel;
import javax.swing.JLabel;
import javax.swing.JTextField;
import javax.swing.JRadioButton;
import javax.swing.BoxLayout;
import java.awt.Dimension;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import java.text.ParseException;
import javax.swing.UIManager;
import javax.swing.UIDefaults;
import javax.swing.plaf.InsetsUIResource;

/** 
 *
 * @author  aaronsc Trinity Software
 * Copyright Â©2004-2005 Trinity Software. All rights reserved.
 */
public class ProductAutoUpdatePanel extends EAPanel
{

 /** Creates new form ProductAutoUpdatePanel */
    public ProductAutoUpdatePanel() {
        UIManager uiM = new UIManager();
        UIDefaults uid = uiM.getDefaults();

        //set to your main Panel bg color
       // uid.put("TabbedPane.tabAreaInsets", new InsetsUIResource(1, 1, 1, 1));
       // uid.put("TabbedPane.contentBorderInsets", new InsetsUIResource(1, 1, 1, 1));
       // uid.put("TabbedPane.selectedTabPadInsets", new InsetsUIResource(2, 2, 2, 2));
        uid.put("TabbedPane.tabAreaInsets", new InsetsUIResource(0, 0, 0, 0));
        uid.put("TabbedPane.contentBorderInsets", new InsetsUIResource(1, 1, 1, 1));
        uid.put("TabbedPane.selectedTabPadInsets", new InsetsUIResource(0, 0, 0, 0));
       // uid.put("TabbedPane.selectHighlight", new ColorUIResource(Color.white));
	  UIManager.put("TabbedPane.tabAreaBackground", javax.swing.UIManager.getDefaults().getColor("Panel.background"));
	  UIManager.put("TabbedPane.background", javax.swing.UIManager.getDefaults().getColor("Panel.background"));
	 // UIManager.put("TabbedPane.foreground", new ColorUIResource(Color.black));
	  UIManager.put("TabbedPane.selected", javax.swing.UIManager.getDefaults().getColor("Panel.background"));
	//  UIManager.put("TabbedPane.border", new BorderUIResource(javax.swing.BorderFactory.createEmptyBorder(0,0,0,0)));
        initComponents();
        setProjectData();
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        adTrackingButtonGroup = new javax.swing.ButtonGroup();
        followUpMessagesButtonGroup = new javax.swing.ButtonGroup();
        tpMessage = new javax.swing.JTabbedPane();
        ConfigPanel = new javax.swing.JPanel();
        ListNamePanel = new javax.swing.JPanel();
        lFiller15 = new javax.swing.JLabel();
        lFiller18 = new javax.swing.JLabel();
        lWebPage = new javax.swing.JLabel();
        lFiller16 = new javax.swing.JLabel();
        lFiller17 = new javax.swing.JLabel();
        ListNamePanel1 = new javax.swing.JPanel();
        lFiller19 = new javax.swing.JLabel();
        lFiller20 = new javax.swing.JLabel();
        tfWebPage = new javax.swing.JTextField();
        lFiller21 = new javax.swing.JLabel();
        MessageFileExplanationPanel2 = new javax.swing.JPanel();
        Filler15 = new javax.swing.JLabel();
        taMessageFileExplanation1 = new javax.swing.JTextArea();
        Filler16 = new javax.swing.JLabel();
        Filler12 = new javax.swing.JLabel();
        MessageFileExplanationPanel1 = new javax.swing.JPanel();
        Filler14 = new javax.swing.JLabel();
        autoUpdateFileListPanel = new AutoUpdateFileListPanel();
        Filler11 = new javax.swing.JLabel();
        MessageFileExplanationPanel = new javax.swing.JPanel();
        Filler13 = new javax.swing.JLabel();
        taMessageFileExplanation = new javax.swing.JTextArea();
        Filler10 = new javax.swing.JLabel();
        SecurityPanel = new javax.swing.JPanel();
        FillerPanel = new javax.swing.JPanel();
        rbContainer = new javax.swing.JPanel();
        FillerSpace = new javax.swing.JLabel();
        rbPanel = new AUJarVerificationSecurityPanel();
        FillerPanel3 = new javax.swing.JPanel();
        FillerPanel1 = new javax.swing.JPanel();
        FillerSpace1 = new javax.swing.JLabel();
        hrPanel = new javax.swing.JPanel();
        FillerSpace2 = new javax.swing.JLabel();
        FillerPanel2 = new javax.swing.JPanel();
        ContentPanel = new AUX500EncryptionConfigurationPanel();

        setLayout(new javax.swing.BoxLayout(this, javax.swing.BoxLayout.Y_AXIS));

        ConfigPanel.setLayout(new javax.swing.BoxLayout(ConfigPanel, javax.swing.BoxLayout.Y_AXIS));

        ListNamePanel.setLayout(new javax.swing.BoxLayout(ListNamePanel, javax.swing.BoxLayout.X_AXIS));

        ListNamePanel.setMaximumSize(new java.awt.Dimension(2147483647, 21));
        ListNamePanel.setMinimumSize(new java.awt.Dimension(600, 21));
        ListNamePanel.setPreferredSize(new java.awt.Dimension(800, 21));
        lFiller15.setText("   ");
        lFiller15.setMaximumSize(new java.awt.Dimension(10, 21));
        lFiller15.setMinimumSize(new java.awt.Dimension(10, 21));
        lFiller15.setPreferredSize(new java.awt.Dimension(10, 21));
        ListNamePanel.add(lFiller15);

        lFiller18.setMaximumSize(new java.awt.Dimension(5, 15));
        lFiller18.setMinimumSize(new java.awt.Dimension(5, 16));
        lFiller18.setPreferredSize(new java.awt.Dimension(5, 16));
        ListNamePanel.add(lFiller18);

        lWebPage.setFont(new java.awt.Font("Arial", 0, 12));
        lWebPage.setText("Software Update File Download URL:");
        lWebPage.setMaximumSize(new java.awt.Dimension(260, 15));
        lWebPage.setMinimumSize(new java.awt.Dimension(260, 15));
        lWebPage.setPreferredSize(new java.awt.Dimension(260, 15));
        lWebPage.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lWebPageMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lWebPageMouseExited(evt);
            }
        });

        ListNamePanel.add(lWebPage);

        lFiller16.setText("   ");
        lFiller16.setMaximumSize(new java.awt.Dimension(10, 15));
        lFiller16.setMinimumSize(new java.awt.Dimension(10, 16));
        lFiller16.setPreferredSize(new java.awt.Dimension(10, 16));
        ListNamePanel.add(lFiller16);

        lFiller17.setText("   ");
        lFiller17.setMaximumSize(new java.awt.Dimension(15, 15));
        lFiller17.setMinimumSize(new java.awt.Dimension(15, 16));
        lFiller17.setPreferredSize(new java.awt.Dimension(15, 16));
        ListNamePanel.add(lFiller17);

        ConfigPanel.add(ListNamePanel);

        ListNamePanel1.setLayout(new javax.swing.BoxLayout(ListNamePanel1, javax.swing.BoxLayout.X_AXIS));

        ListNamePanel1.setMaximumSize(new java.awt.Dimension(2147483647, 20));
        ListNamePanel1.setMinimumSize(new java.awt.Dimension(600, 20));
        ListNamePanel1.setPreferredSize(new java.awt.Dimension(800, 20));
        lFiller19.setIcon(new javax.swing.ImageIcon(""));
        lFiller19.setMaximumSize(new java.awt.Dimension(10, 25));
        lFiller19.setMinimumSize(new java.awt.Dimension(10, 25));
        lFiller19.setPreferredSize(new java.awt.Dimension(10, 25));
        ListNamePanel1.add(lFiller19);

        lFiller20.setMaximumSize(new java.awt.Dimension(5, 15));
        lFiller20.setMinimumSize(new java.awt.Dimension(5, 16));
        lFiller20.setPreferredSize(new java.awt.Dimension(5, 16));
        ListNamePanel1.add(lFiller20);

        tfWebPage.setFont(new java.awt.Font("Arial", 0, 12));
        tfWebPage.setHorizontalAlignment(javax.swing.JTextField.LEFT);
        tfWebPage.setText("http://");
        tfWebPage.setMaximumSize(new java.awt.Dimension(32767, 20));
        tfWebPage.setMinimumSize(new java.awt.Dimension(160, 20));
        tfWebPage.setPreferredSize(new java.awt.Dimension(160, 20));
        ListNamePanel1.add(tfWebPage);

        lFiller21.setIcon(new javax.swing.ImageIcon(""));
        lFiller21.setMaximumSize(new java.awt.Dimension(10, 25));
        lFiller21.setMinimumSize(new java.awt.Dimension(10, 25));
        lFiller21.setPreferredSize(new java.awt.Dimension(10, 25));
        ListNamePanel1.add(lFiller21);

        ConfigPanel.add(ListNamePanel1);

        MessageFileExplanationPanel2.setLayout(new javax.swing.BoxLayout(MessageFileExplanationPanel2, javax.swing.BoxLayout.X_AXIS));

        MessageFileExplanationPanel2.setAlignmentY(0.0F);
        MessageFileExplanationPanel2.setMaximumSize(new java.awt.Dimension(32767, 13));
        MessageFileExplanationPanel2.setMinimumSize(new java.awt.Dimension(315, 13));
        MessageFileExplanationPanel2.setPreferredSize(new java.awt.Dimension(385, 13));
        Filler15.setMaximumSize(new java.awt.Dimension(25, 10));
        Filler15.setMinimumSize(new java.awt.Dimension(25, 10));
        Filler15.setPreferredSize(new java.awt.Dimension(25, 10));
        MessageFileExplanationPanel2.add(Filler15);

        taMessageFileExplanation1.setBackground(javax.swing.UIManager.getDefaults().getColor("Panel.background"));
        taMessageFileExplanation1.setEditable(false);
        taMessageFileExplanation1.setFont(new java.awt.Font("Arial", 0, 11));
        taMessageFileExplanation1.setLineWrap(true);
        taMessageFileExplanation1.setText("Example URL: http://www.mydomain.com/myproduct/v1/updates/update.eal.");
        taMessageFileExplanation1.setWrapStyleWord(true);
        taMessageFileExplanation1.setBorder(null);
        taMessageFileExplanation1.setMaximumSize(new java.awt.Dimension(370, 13));
        taMessageFileExplanation1.setMinimumSize(new java.awt.Dimension(370, 13));
        taMessageFileExplanation1.setPreferredSize(new java.awt.Dimension(370, 13));
        MessageFileExplanationPanel2.add(taMessageFileExplanation1);

        Filler16.setMaximumSize(new java.awt.Dimension(10, 10));
        Filler16.setMinimumSize(new java.awt.Dimension(10, 10));
        Filler16.setPreferredSize(new java.awt.Dimension(10, 10));
        MessageFileExplanationPanel2.add(Filler16);

        ConfigPanel.add(MessageFileExplanationPanel2);

        Filler12.setMaximumSize(new java.awt.Dimension(5, 2));
        Filler12.setMinimumSize(new java.awt.Dimension(5, 2));
        Filler12.setPreferredSize(new java.awt.Dimension(5, 2));
        ConfigPanel.add(Filler12);

        MessageFileExplanationPanel1.setLayout(new javax.swing.BoxLayout(MessageFileExplanationPanel1, javax.swing.BoxLayout.X_AXIS));

        MessageFileExplanationPanel1.setMaximumSize(new java.awt.Dimension(32767, 70));
        MessageFileExplanationPanel1.setMinimumSize(new java.awt.Dimension(315, 70));
        MessageFileExplanationPanel1.setPreferredSize(new java.awt.Dimension(385, 70));
        Filler14.setMaximumSize(new java.awt.Dimension(15, 10));
        Filler14.setMinimumSize(new java.awt.Dimension(15, 10));
        Filler14.setPreferredSize(new java.awt.Dimension(15, 10));
        MessageFileExplanationPanel1.add(Filler14);

        autoUpdateFileListPanel.setMaximumSize(new java.awt.Dimension(32767, 70));
        autoUpdateFileListPanel.setMinimumSize(new java.awt.Dimension(10, 70));
        autoUpdateFileListPanel.setPreferredSize(new java.awt.Dimension(10, 70));
        MessageFileExplanationPanel1.add(autoUpdateFileListPanel);

        Filler11.setMaximumSize(new java.awt.Dimension(10, 10));
        Filler11.setMinimumSize(new java.awt.Dimension(10, 10));
        Filler11.setPreferredSize(new java.awt.Dimension(10, 10));
        MessageFileExplanationPanel1.add(Filler11);

        ConfigPanel.add(MessageFileExplanationPanel1);

        MessageFileExplanationPanel.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 0, 0));

        MessageFileExplanationPanel.setMaximumSize(new java.awt.Dimension(32767, 15));
        MessageFileExplanationPanel.setMinimumSize(new java.awt.Dimension(315, 15));
        MessageFileExplanationPanel.setPreferredSize(new java.awt.Dimension(385, 15));
        Filler13.setMaximumSize(new java.awt.Dimension(25, 10));
        Filler13.setMinimumSize(new java.awt.Dimension(25, 10));
        Filler13.setPreferredSize(new java.awt.Dimension(25, 10));
        MessageFileExplanationPanel.add(Filler13);

        taMessageFileExplanation.setBackground(javax.swing.UIManager.getDefaults().getColor("Panel.background"));
        taMessageFileExplanation.setEditable(false);
        taMessageFileExplanation.setFont(new java.awt.Font("Arial", 0, 11));
        taMessageFileExplanation.setLineWrap(true);
        taMessageFileExplanation.setText("Example file: lib/myapp.jar (All file entries are application root base directory)");
        taMessageFileExplanation.setWrapStyleWord(true);
        taMessageFileExplanation.setMaximumSize(new java.awt.Dimension(370, 13));
        taMessageFileExplanation.setMinimumSize(new java.awt.Dimension(370, 13));
        taMessageFileExplanation.setPreferredSize(new java.awt.Dimension(370, 13));
        MessageFileExplanationPanel.add(taMessageFileExplanation);

        Filler10.setMaximumSize(new java.awt.Dimension(10, 10));
        Filler10.setMinimumSize(new java.awt.Dimension(10, 10));
        Filler10.setPreferredSize(new java.awt.Dimension(10, 10));
        MessageFileExplanationPanel.add(Filler10);

        ConfigPanel.add(MessageFileExplanationPanel);

        tpMessage.addTab("Automatic Software Update Client Configuration", ConfigPanel);

        SecurityPanel.setLayout(new javax.swing.BoxLayout(SecurityPanel, javax.swing.BoxLayout.Y_AXIS));

        FillerPanel.setLayout(new javax.swing.BoxLayout(FillerPanel, javax.swing.BoxLayout.X_AXIS));

        FillerPanel.setMaximumSize(new java.awt.Dimension(32767, 4));
        FillerPanel.setMinimumSize(new java.awt.Dimension(10, 4));
        FillerPanel.setPreferredSize(new java.awt.Dimension(10, 4));
        SecurityPanel.add(FillerPanel);

        rbContainer.setLayout(new javax.swing.BoxLayout(rbContainer, javax.swing.BoxLayout.X_AXIS));

        rbContainer.setMaximumSize(new java.awt.Dimension(32767, 16));
        rbContainer.setMinimumSize(new java.awt.Dimension(10, 16));
        rbContainer.setPreferredSize(new java.awt.Dimension(10, 16));
        FillerSpace.setMaximumSize(new java.awt.Dimension(10, 0));
        FillerSpace.setMinimumSize(new java.awt.Dimension(10, 0));
        FillerSpace.setPreferredSize(new java.awt.Dimension(10, 0));
        rbContainer.add(FillerSpace);

        rbPanel.setMaximumSize(new java.awt.Dimension(32767, 16));
        rbPanel.setMinimumSize(new java.awt.Dimension(10, 16));
        rbPanel.setPreferredSize(new java.awt.Dimension(10, 16));
        rbContainer.add(rbPanel);

        SecurityPanel.add(rbContainer);

        FillerPanel3.setLayout(new javax.swing.BoxLayout(FillerPanel3, javax.swing.BoxLayout.X_AXIS));

        FillerPanel3.setMaximumSize(new java.awt.Dimension(32767, 4));
        FillerPanel3.setMinimumSize(new java.awt.Dimension(10, 4));
        FillerPanel3.setPreferredSize(new java.awt.Dimension(10, 4));
        SecurityPanel.add(FillerPanel3);

        FillerPanel1.setLayout(new javax.swing.BoxLayout(FillerPanel1, javax.swing.BoxLayout.X_AXIS));

        FillerPanel1.setMaximumSize(new java.awt.Dimension(32767, 2));
        FillerPanel1.setMinimumSize(new java.awt.Dimension(10, 2));
        FillerPanel1.setPreferredSize(new java.awt.Dimension(10, 2));
        FillerSpace1.setMaximumSize(new java.awt.Dimension(10, 0));
        FillerSpace1.setMinimumSize(new java.awt.Dimension(10, 0));
        FillerSpace1.setPreferredSize(new java.awt.Dimension(10, 0));
        FillerPanel1.add(FillerSpace1);

        hrPanel.setBorder(new javax.swing.border.EtchedBorder());
        hrPanel.setMaximumSize(new java.awt.Dimension(32767, 16));
        hrPanel.setMinimumSize(new java.awt.Dimension(10, 16));
        hrPanel.setPreferredSize(new java.awt.Dimension(10, 16));
        FillerPanel1.add(hrPanel);

        FillerSpace2.setMaximumSize(new java.awt.Dimension(10, 0));
        FillerSpace2.setMinimumSize(new java.awt.Dimension(10, 0));
        FillerSpace2.setPreferredSize(new java.awt.Dimension(10, 0));
        FillerPanel1.add(FillerSpace2);

        SecurityPanel.add(FillerPanel1);

        FillerPanel2.setLayout(new javax.swing.BoxLayout(FillerPanel2, javax.swing.BoxLayout.X_AXIS));

        FillerPanel2.setMaximumSize(new java.awt.Dimension(32767, 4));
        FillerPanel2.setMinimumSize(new java.awt.Dimension(10, 4));
        FillerPanel2.setPreferredSize(new java.awt.Dimension(10, 4));
        SecurityPanel.add(FillerPanel2);

        SecurityPanel.add(ContentPanel);

        tpMessage.addTab("Security", SecurityPanel);

        add(tpMessage);

    }//GEN-END:initComponents

    private void lWebPageMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lWebPageMouseExited
        ((NewProject)getParentComponent()).setStatus("");
    }//GEN-LAST:event_lWebPageMouseExited

    private void lWebPageMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lWebPageMouseEntered
        ((NewProject)getParentComponent()).setStatus("Specify the Software Update File Download URL.");
    }//GEN-LAST:event_lWebPageMouseEntered

    private void AutoResponderListNameMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_AutoResponderListNameMouseExited
        ((NewProject)getParentComponent()).setStatus("");
    }//GEN-LAST:event_AutoResponderListNameMouseExited
 
    private void AutoResponderListNameMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_AutoResponderListNameMouseEntered
        ((NewProject)getParentComponent()).setStatus("Specify the Software Update File Download URL.");
    }//GEN-LAST:event_AutoResponderListNameMouseEntered
    
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel ConfigPanel;
    private AUX500EncryptionConfigurationPanel ContentPanel;
    private javax.swing.JLabel Filler10;
    private javax.swing.JLabel Filler11;
    private javax.swing.JLabel Filler12;
    private javax.swing.JLabel Filler13;
    private javax.swing.JLabel Filler14;
    private javax.swing.JLabel Filler15;
    private javax.swing.JLabel Filler16;
    private javax.swing.JPanel FillerPanel;
    private javax.swing.JPanel FillerPanel1;
    private javax.swing.JPanel FillerPanel2;
    private javax.swing.JPanel FillerPanel3;
    private javax.swing.JLabel FillerSpace;
    private javax.swing.JLabel FillerSpace1;
    private javax.swing.JLabel FillerSpace2;
    private javax.swing.JPanel ListNamePanel;
    private javax.swing.JPanel ListNamePanel1;
    private javax.swing.JPanel MessageFileExplanationPanel;
    private javax.swing.JPanel MessageFileExplanationPanel1;
    private javax.swing.JPanel MessageFileExplanationPanel2;
    private javax.swing.JPanel SecurityPanel;
    private javax.swing.ButtonGroup adTrackingButtonGroup;
    private AutoUpdateFileListPanel autoUpdateFileListPanel;
    private javax.swing.ButtonGroup followUpMessagesButtonGroup;
    private javax.swing.JPanel hrPanel;
    private javax.swing.JLabel lFiller15;
    private javax.swing.JLabel lFiller16;
    private javax.swing.JLabel lFiller17;
    private javax.swing.JLabel lFiller18;
    private javax.swing.JLabel lFiller19;
    private javax.swing.JLabel lFiller20;
    private javax.swing.JLabel lFiller21;
    private javax.swing.JLabel lWebPage;
    private javax.swing.JPanel rbContainer;
    private AUJarVerificationSecurityPanel rbPanel;
    private javax.swing.JTextArea taMessageFileExplanation;
    private javax.swing.JTextArea taMessageFileExplanation1;
    private javax.swing.JTextField tfWebPage;
    private javax.swing.JTabbedPane tpMessage;
    // End of variables declaration//GEN-END:variables

    public void getDataUpdate()
    {
        try
        {
            ProjectManager.putTempNoFileWrite("autoUpdateBaseURL", tfWebPage.getText());
 
            ProjectManager.saveTempNow();
		autoUpdateFileListPanel.getDataUpdate();
		ContentPanel.getDataUpdate();
		rbPanel.getDataUpdate();
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }
    }

    public void setProjectData()
    {
        try
        {
		if(ProjectManager.get("autoUpdateBaseURL")!=null)
		{
			if(ProjectManager.get("autoUpdateBaseURL").startsWith("http://")==true)
			{
				tfWebPage.setText(ProjectManager.get("autoUpdateBaseURL"));
			}
		}
		autoUpdateFileListPanel.setProjectData();
		ContentPanel.setProjectData();
		rbPanel.setProjectData();
 	  }
        catch(Exception e)
        {
             e.printStackTrace();
        }
    }

    private static Object[] getStringArraysFromString(String textArrayString)
    {
        ArrayList aryList = new ArrayList();
        String tempString = "";
        try
        {
            while(textArrayString.indexOf(",")!=-1)
            {
                tempString = textArrayString.substring(0,textArrayString.indexOf(","));
                textArrayString = textArrayString.substring(textArrayString.indexOf(",") + 1);
                aryList.add(tempString);
            }
            aryList.add(textArrayString);
            aryList.trimToSize();
        }
        catch(NullPointerException e)
        {
         
        }

        return aryList.toArray();
    }  
    
    private String getCommaSeparatedStringValues(String strToUpdate)
    {
	 return strToUpdate.replaceAll(":::",",");
    }   
    
}
